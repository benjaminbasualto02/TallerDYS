<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <title>Juego Tic Tac Toe</title>
    <link rel="stylesheet" href="../CSS/Tablero.css">
</head>
<body>

    <div class="container mt-5">
        <h2>Tablero de Tic Tac Toe</h2>
        <div id="board-container"></div> <!-- Aquí se mostrará el tablero -->
        <div id="game-status"></div> <!-- Aquí se mostrará el estado del juego -->
    </div>

    <script>
        // Función para obtener los parámetros de la URL
        function getURLParameter(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

        // Obtener los parámetros del tablero y la dificultad
        const boardSize = parseInt(getURLParameter('boardSize'));
        const difficulty = getURLParameter('difficulty');

        // Verificar si los parámetros existen
        if (!boardSize || !difficulty) {
            document.getElementById('game-status').innerText = "Parámetros incorrectos o faltantes.";
        } else {
            // Llamar a la función para generar el tablero
            createBoard(boardSize);
        }

        // Función para crear el tablero según el tamaño seleccionado
        function createBoard(size) {
            const boardContainer = document.getElementById('board-container');
            boardContainer.innerHTML = "";  // Limpiar el contenedor del tablero

            // Crear el tablero
            const board = document.createElement('div');
            board.classList.add('board');
            for (let row = 0; row < size; row++) {
                const rowElement = document.createElement('div');
                rowElement.classList.add('board-row');
                for (let col = 0; col < size; col++) {
                    const cell = document.createElement('div');
                    cell.classList.add('board-cell');
                    cell.dataset.index = row * size + col; // Asignar un índice único a cada celda
                    rowElement.appendChild(cell);
                }
                board.appendChild(rowElement);
            }
            boardContainer.appendChild(board);

            // Iniciar el juego con la IA según la dificultad seleccionada
            startGame(size, difficulty);
        }

        // Función para iniciar el juego
        function startGame(size, difficulty) {
            // Aquí puedes implementar la lógica de la IA con base en la dificultad
            console.log("Iniciando juego con tablero de tamaño " + size + " y dificultad " + difficulty);
            
            // En este punto puedes llamar a la lógica de IA según la dificultad
            // Por ejemplo, podrías tener un sistema que ajuste la inteligencia de la IA dependiendo de la dificultad

            // Después de generar el tablero y la IA, iniciar el ciclo del juego.
            // Por ahora, solo mostrar un mensaje de estado:
            document.getElementById('game-status').innerText = "Juego iniciado. ¡Buena suerte!";
        }
    </script>

    <script src="../JS/TicTacToe.js"></script> <!-- Lógica de TicTacToe y la IA -->
</body>
</html>
